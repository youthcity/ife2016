<ion-view view-title="消息 电话" >
	<ion-nav-buttons side="right">
		<button class="button button-icon icon ion-ios-minus-outline"
		ng-click="$root.showDelete = !$root.showDelete"></button>
		<button class="button button-icon icon ion-ios-gear-outline"
		ng-click="openPopover($event)"></button>
	</ion-nav-buttons>
	<ion-content>
	<ion-refresher
		pulling-text="下拉刷新..."
		refreshing-text="正在刷新..."
		on-refresh="doRefresh()">
	</ion-refresher>
	
<!-- 	<button class="button button-icon icon ion-ios-minus-outline"
	  ng-click="openCamera()"></button> -->
<!-- 	<button class="button button-icon icon ion-ios-minus-outline"
	  ng-click="showDelete = !showDelete"></button> -->
	<label class="item item-input">
		<i class="icon ion-search placeholder-icon"></i>
		<input type="search" placeholder="Search" ng-model="search_name">
	</label>
	<ion-list show-delete="showDelete">
		<ion-item class="item-avatar" ng-repeat="message in messages | filter:search_name" href="#/app/chat/{{message.name}}">
		 <ion-delete-button class="ion-minus-circled" ng-click="deleteItem(message)"></ion-delete-button>
			<img ng-src={{message.imgUrl}}>
			<h2>{{message.name}}</h2>
			<p>{{message.text}}</p>
			<span class="badge badge-assertive">{{message.num}}</span>
		</ion-item>
	</ion-list>
  <ion-infinite-scroll ng-if="moreDataCanBeLoaded()"   on-infinite="loadMore()" distance="20%">
</ion-infinite-scroll>
</ion-content>
</ion-view>
