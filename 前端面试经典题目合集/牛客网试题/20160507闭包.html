<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>下面这个ul，如何点击每一列的时候alert其index(闭包)</title>
</head>
<body>
	<ul id="test">
	<li>这是第一条</li>
	<li>这是第二条</li>
	<li>这是第三条</li>
	</ul>
	<script type="text/javascript">
		// my answer
		var ul =document.getElementById('test').getElementsByTagName('li');
		console.log(ul);
		for(var i = 0 ,len = ul.length; i<len;i++){
			(function(i){
				ul[i].addEventListener('click', function(){
					alert(i);
				}, false);
			})(i);
		}

		// answer
		//方法一：
		var lis=document.getElementById('test').getElementsByTagName('li');
		for(var i=0;i<3;i++)
		{
		    lis[i].index=i;
		    lis[i].onclick=function(){
		    	console.log(this);
		        alert(this.index);
		    };
		}
		 
		 //方法二：
		var lis=document.getElementById('test').getElementsByTagName('li');
		for(var i=0;i<3;i++)
		{
		    lis[i].index=i;   // 这句话好像没作用
		    lis[i].onclick=(function(a){
		        return function() {
		            alert(a);
		        }
		    })(i);
		} 
	</script>

</body>
</html>